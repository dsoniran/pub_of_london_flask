<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pub Chart</title>
    <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet">

</head>
<body>
<h1>Geospatial Map</h1>
<h5>Source: csv, folium and re.</h5>
<p> Why: The initial aim was to produce a choropleth map. However, the tutorials online presented python and required
    modules and libraries using Jupyter Notebook. PyCharm doesnâ€™t have the same functionality (at least within limit of
    novel skillset). We were able to use the Folium module to present a map by appending the csv into a list of
    dictionaries, pulling the the longitude and latitude data. This allowed us to produce markers much like Google Maps.
    This wasn't visually appealing, so we converted the markers to radient, which when grouped closely together produces
    a heatmap.
    <br>
    <br>Positives: It is interactive.
    <br>
    <br>Negatives: It doesn't present the information well. You can see the distribution of pubs but without prior
    knowledge of the location of boroughs, it doesn't tell you much.
    <br>
    <br>Alternatives: If we were to repeat this exercise, I would explore the use of python on Jupyter Notebook. This
    would allow me to explore the option of choropleth map present the data more effectively.
</p>

<br>
<!--- HEAT MAP-->
<script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;

</script>

<style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
<style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
<script src="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.js"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
<link href="https://cdn.jsdelivr.net/npm/leaflet@1.6.0/dist/leaflet.css" rel="stylesheet"/>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" rel="stylesheet"/>
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"
      rel="stylesheet"/>
<link href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"
      rel="stylesheet"/>

<meta content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<style>
                #map_226d5c9cadd3415bad98816e5c69b059 {
                    position: relative;
                    width: 50.0%;
                    height: 50.0%;
                    left: 25.0%;
                    top: 0.0%;
                }

</style>

<script src="https://cdn.jsdelivr.net/gh/python-visualization/folium@master/folium/templates/leaflet_heat.min.js"></script>

<div class="folium-map" id="map_226d5c9cadd3415bad98816e5c69b059"></div>


<script>

            var map_226d5c9cadd3415bad98816e5c69b059 = L.map(
                "map_226d5c9cadd3415bad98816e5c69b059",
                {
                    center: [51.51, -0.12],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );





            var tile_layer_c23741cfc40c4773b52e32fa8bf938e2 = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "Data by \u0026copy; \u003ca href=\"http://openstreetmap.org\"\u003eOpenStreetMap\u003c/a\u003e, under \u003ca href=\"http://www.openstreetmap.org/copyright\"\u003eODbL\u003c/a\u003e.", "detectRetina": false, "maxNativeZoom": 18, "maxZoom": 18, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            ).addTo(map_226d5c9cadd3415bad98816e5c69b059);


            var heat_map_2d47d98226654097ab3b9053dae33f23 = L.heatLayer(
                [[51.5423045, -0.1395604, 276], [51.5432402, -0.0493621, 327], [51.4920377, -0.2236401, 149], [51.5384287, -0.0999051, 255], [51.498480400000005, -0.1990432138025393, 110], [51.5013012, -0.117287, 168], [51.4624325, -0.0101331, 79], [51.5029222, -0.103458, 209], [51.1325003, 1.3028515, 1], [51.4570271, -0.1932607, 175], [51.5004439, -0.1265398, 390], [51.5389922, 0.0804245, 4], [51.65309, -0.2002261, 109], [51.4416793, 0.150488, 4], [51.3713049, -0.101957, 26], [51.5126553, -0.3051952, 7], [51.6520851, -0.0810175, 87], [51.6014736, -0.1117815, 95], [51.596827149999996, -0.33731605402671094, 9], [51.5443851, -0.14430716398919305, 0], [51.542519299999995, -0.44833493117949663, 8], [51.4686132, -0.3613471, 1], [51.4096275, -0.3062621, 1], [51.41086985, -0.18809708858824303, 56], [51.52999955, 0.02931796029382208, 42], [51.5763203, 0.0454097, 0], [51.4405529, -0.3076394377337949, 3], [51.357464449999995, -0.17362689496950337, 6], [51.59816935, -0.01783667461048707, 1], [51.4820845, -0.0045417, 0], [51.563825800000004, -0.2757596561855699, 72], [51.4028046, 0.0148142, 22], [51.5156177, -0.0919983, 244]],
                {"blur": 15, "maxZoom": 18, "minOpacity": 0.5, "radius": 25}
            ).addTo(map_226d5c9cadd3415bad98816e5c69b059);


</script>
<br>
<br>

<div class="para-style-right"><a href="http://127.0.0.1:5000/"><p>back to dashboard</p></a></div>
</body>
</html>